From 1ae89ebf02a97afa31f88f1c2dc00a538b0c7974 Mon Sep 17 00:00:00 2001
From: Richard Hughes <richard@hughsie.com>
Date: Wed, 8 Jan 2014 17:46:02 +0000
Subject: [PATCH 03/11] Do not use deprecated widgets in the spectro tool

---
 configure.ac          |  2 +-
 src/ch-spectro-util.c | 20 ++++++++++----------
 2 files changed, 11 insertions(+), 11 deletions(-)

diff --git a/configure.ac b/configure.ac
index f06d7cd..dd48161 100644
--- a/configure.ac
+++ b/configure.ac
@@ -118,7 +118,7 @@ dnl - Check library dependencies
 dnl ---------------------------------------------------------------------------
 PKG_CHECK_MODULES(GLIB, glib-2.0 >= 2.31.10 gobject-2.0 gmodule-2.0 gio-2.0 >= 2.25.9)
 PKG_CHECK_MODULES(GUSB, gusb >= 0.1.2)
-PKG_CHECK_MODULES(GTK, gtk+-3.0 >= 2.91.0)
+PKG_CHECK_MODULES(GTK, gtk+-3.0 >= 3.12.0)
 PKG_CHECK_MODULES(COLORD, colord >= 0.1.31)
 PKG_CHECK_MODULES(COLORD_GTK, colord-gtk >= 0.1.24)
 PKG_CHECK_MODULES(SOUP, libsoup-2.4)
diff --git a/src/ch-spectro-util.c b/src/ch-spectro-util.c
index 7f5c989..8dab826 100644
--- a/src/ch-spectro-util.c
+++ b/src/ch-spectro-util.c
@@ -297,8 +297,8 @@ ch_util_add_graphs (ChCcmxPrivate *priv)
 		      NULL);
 	gtk_box_pack_start (box, priv->graph_raw, TRUE, TRUE, 0);
 	gtk_widget_set_margin_top (priv->graph_raw, 6);
-	gtk_widget_set_margin_left (priv->graph_raw, 12);
-	gtk_widget_set_margin_right (priv->graph_raw, 12);
+	gtk_widget_set_margin_start (priv->graph_raw, 12);
+	gtk_widget_set_margin_end (priv->graph_raw, 12);
 	gtk_widget_set_size_request (priv->graph_raw, 800, 450);
 	gtk_widget_show (priv->graph_raw);
 
@@ -316,8 +316,8 @@ ch_util_add_graphs (ChCcmxPrivate *priv)
 		      NULL);
 	gtk_box_pack_start (box, priv->graph_dark_cal, TRUE, TRUE, 0);
 	gtk_widget_set_margin_top (priv->graph_raw, 6);
-	gtk_widget_set_margin_left (priv->graph_dark_cal, 12);
-	gtk_widget_set_margin_right (priv->graph_dark_cal, 12);
+	gtk_widget_set_margin_start (priv->graph_dark_cal, 12);
+	gtk_widget_set_margin_end (priv->graph_dark_cal, 12);
 	gtk_widget_set_size_request (priv->graph_dark_cal, 800, 450);
 	gtk_widget_show (priv->graph_dark_cal);
 
@@ -335,8 +335,8 @@ ch_util_add_graphs (ChCcmxPrivate *priv)
 		      NULL);
 	gtk_box_pack_start (box, priv->graph_cmf, TRUE, TRUE, 0);
 	gtk_widget_set_margin_top (priv->graph_raw, 6);
-	gtk_widget_set_margin_left (priv->graph_cmf, 12);
-	gtk_widget_set_margin_right (priv->graph_cmf, 12);
+	gtk_widget_set_margin_start (priv->graph_cmf, 12);
+	gtk_widget_set_margin_end (priv->graph_cmf, 12);
 	gtk_widget_set_size_request (priv->graph_cmf, 800, 450);
 	gtk_widget_show (priv->graph_cmf);
 
@@ -354,8 +354,8 @@ ch_util_add_graphs (ChCcmxPrivate *priv)
 		      NULL);
 	gtk_box_pack_start (box, priv->graph_temp_comp, TRUE, TRUE, 0);
 	gtk_widget_set_margin_top (priv->graph_raw, 6);
-	gtk_widget_set_margin_left (priv->graph_temp_comp, 12);
-	gtk_widget_set_margin_right (priv->graph_temp_comp, 12);
+	gtk_widget_set_margin_start (priv->graph_temp_comp, 12);
+	gtk_widget_set_margin_end (priv->graph_temp_comp, 12);
 	gtk_widget_set_size_request (priv->graph_temp_comp, 800, 450);
 	gtk_widget_show (priv->graph_temp_comp);
 
@@ -373,8 +373,8 @@ ch_util_add_graphs (ChCcmxPrivate *priv)
 		      NULL);
 	gtk_box_pack_start (box, priv->graph_result, TRUE, TRUE, 0);
 	gtk_widget_set_margin_top (priv->graph_raw, 6);
-	gtk_widget_set_margin_left (priv->graph_result, 12);
-	gtk_widget_set_margin_right (priv->graph_result, 12);
+	gtk_widget_set_margin_start (priv->graph_result, 12);
+	gtk_widget_set_margin_end (priv->graph_result, 12);
 	gtk_widget_set_size_request (priv->graph_result, 800, 450);
 	gtk_widget_show (priv->graph_result);
 }
-- 
1.8.4.5

