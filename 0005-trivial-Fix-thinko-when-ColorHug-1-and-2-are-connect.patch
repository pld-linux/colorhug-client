From 3f7f81657efc6fe88183ff6b720842852c3d7569 Mon Sep 17 00:00:00 2001
From: Richard Hughes <richard@hughsie.com>
Date: Wed, 8 Jan 2014 17:47:17 +0000
Subject: [PATCH 05/11] trivial: Fix thinko when ColorHug 1 and 2 are connected
 at the same time

---
 src/ch-spectro-util.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/src/ch-spectro-util.c b/src/ch-spectro-util.c
index 5a559d6..212dd7b 100644
--- a/src/ch-spectro-util.c
+++ b/src/ch-spectro-util.c
@@ -493,8 +493,7 @@ ch_util_device_removed_cb (GUsbDeviceList *list,
 	g_debug ("Removed: %i:%i",
 		 g_usb_device_get_vid (device),
 		 g_usb_device_get_pid (device));
-	if (ch_device_get_mode (device) == CH_DEVICE_MODE_FIRMWARE ||
-	    ch_device_get_mode (device) == CH_DEVICE_MODE_LEGACY) {
+	if (ch_device_get_mode (device) == CH_DEVICE_MODE_FIRMWARE_SPECTRO) {
 		if (priv->device != NULL)
 			g_object_unref (priv->device);
 		priv->device = NULL;
-- 
1.8.4.5

